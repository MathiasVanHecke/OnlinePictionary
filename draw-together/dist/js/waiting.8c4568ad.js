(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["waiting"],{"0139":function(t,e,s){},"0a49":function(t,e,s){var n=s("9b43"),o=s("626a"),r=s("4bf8"),i=s("9def"),a=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,u=3==t,l=4==t,d=6==t,m=5==t||d,f=e||a;return function(e,a,h){for(var g,v,p=r(e),b=o(p),$=n(a,h,3),y=i(b.length),k=0,_=s?f(e,y):c?f(e,0):void 0;y>k;k++)if((m||k in b)&&(g=b[k],v=$(g,k,p),t))if(s)_[k]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:_.push(g)}else if(l)return!1;return d?-1:u||l?l:_}}},"0cb1":function(t,e,s){"use strict";var n=s("7c2b"),o=s.n(n);o.a},1169:function(t,e,s){var n=s("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"214f":function(t,e,s){"use strict";var n=s("32e9"),o=s("2aba"),r=s("79e5"),i=s("be13"),a=s("2b4c");t.exports=function(t,e,s){var c=a(t),u=s(i,c,""[t]),l=u[0],d=u[1];r(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,l),n(RegExp.prototype,c,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},"268b":function(t,e,s){},"2c92":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-waiting o-container"},[t.isHost?s("GameSettings",{attrs:{roomkey:t.roomkey}}):t._e(),s("Members")],1)},o=[],r=(s("6b54"),s("a481"),s("cadf"),s("551c"),s("097d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-gamesettings o-smallpage"},[s("h1",{staticClass:"o-smallpage-header"},[t._v(t._s(t.$t("newgame")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.rounds,expression:"rounds"}],ref:"rounds",staticClass:"o-input",attrs:{type:"number",placeholder:"Amount of rounds",min:"1",max:"10"},domProps:{value:t.rounds},on:{focusout:t.validateRounds,input:function(e){e.target.composing||(t.rounds=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.length,expression:"length"}],ref:"length",staticClass:"o-input",attrs:{type:"number",placeholder:"Length of one round",min:"40",max:"120",step:"10"},domProps:{value:t.length},on:{focusout:t.validateLength,input:function(e){e.target.composing||(t.length=e.target.value)}}}),s("h3",[t._v(t._s(t.$t("joincode")))]),s("div",{staticClass:"c-gamesettings-key"},[s("p",[t._v(t._s(t.roomkey))]),s("input",{attrs:{type:"hidden",id:"roomkey"},domProps:{value:t.roomkey}}),s("div",{ref:"clipboard",staticClass:"c-gamesettings-key-copy",on:{click:t.copyToClipboard}},[t._v("ðŸ“‹")])]),s("button",{staticClass:"o-fancybutton",on:{click:t.start}},[t._v("Start")])])}),i=[],a={name:"GameSettings",props:{roomkey:String},data:function(){return{isValid:!1,rounds:null,length:null}},methods:{validateRounds:function(){this.rounds<1&&(this.rounds=1),this.rounds>10&&(this.rounds=10),this.validate()},validateLength:function(){this.length<40&&(this.length=40),this.length>120&&(this.length=120),this.validate()},validate:function(){this.rounds>=1&&this.rounds<=10&&this.length>=40&&this.length<=120&&(this.isValid=!0),this.rounds<1||this.rounds>10?this.$refs.rounds.classList.add("o-input--invalid"):this.$refs.rounds.classList.remove("o-input--invalid"),this.length<40||this.length>120?this.$refs.length.classList.add("o-input--invalid"):this.$refs.length.classList.remove("o-input--invalid")},copyToClipboard:function(){var t=document.querySelector("#roomkey");t.setAttribute("type","text"),t.select();var e=document.execCommand("copy");e&&this.$refs.clipboard.classList.add("c-gamesettings-key-copy--done"),t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},start:function(){this.validate(),this.isValid&&(this.$store.dispatch("setRoundsAmount",this.rounds),this.$store.dispatch("setRoundsLength",this.length),this.$store.getters.getConnection.invoke("StartGame",this.$store.getters.getRoomkey))}}},c=a,u=(s("821d"),s("2877")),l=Object(u["a"])(c,r,i,!1,null,"f1dee3fe",null);l.options.__file="GameSettings.vue";var d=l.exports,m=s("c418"),f={name:"Waiting",computed:{roomkey:function(){return this.$store.getters.getRoomkey},isHost:function(){return this.$store.getters.getHost}},components:{GameSettings:d,Members:m["a"]},mounted:function(){var t=this;if(""==this.$store.getters.getRoomkey){var e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,16);this.$store.dispatch("setRoomkey",e)}var s="#"+Math.floor(16777215*Math.random()).toString(16);this.$store.dispatch("setMyColor",s);var n="{name : '"+this.$store.getters.getMyName+"', img : '"+s+"'}";this.$store.getters.getConnection.invoke("JoinRoom",this.$store.getters.getRoomkey,n),this.$store.getters.getConnection.on("StartGame",function(){t.$router.push({path:"game"})})},beforeCreate:function(){this.$cookies.get("token")||this.$router.push({path:"/"})}},h=f,g=(s("ea3b"),Object(u["a"])(h,n,o,!1,null,"755a6b36",null));g.options.__file="Waiting.vue";e["default"]=g.exports},7514:function(t,e,s){"use strict";var n=s("5ca1"),o=s("0a49")(5),r="find",i=!0;r in[]&&Array(1)[r](function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(r)},"7c2b":function(t,e,s){},"7f7f":function(t,e,s){var n=s("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in o||s("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"821d":function(t,e,s){"use strict";var n=s("e5f7"),o=s.n(n);o.a},"83c3":function(t,e,s){"use strict";var n=s("0139"),o=s.n(n);o.a},a481:function(t,e,s){s("214f")("replace",2,function(t,e,s){return[function(n,o){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r,o):s.call(String(r),n,o)},s]})},c418:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inGame?s("div",{staticClass:"c-memberbar o-grid"},t._l(t.members,function(e){return s("div",{key:e.id,staticClass:"c-member"},[s("Avatar",{attrs:{color:e.img}}),s("span",[s("p",{staticClass:"c-member-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"c-member-score"},[t._v(t._s(e.score))])])],1)})):s("div",{staticClass:"o-smallpage"},[s("h3",[t._v(t._s(t.$t("ready")))]),t._l(t.members,function(e){return s("div",{key:e.id,staticClass:"c-waiting-member"},[s("Avatar",{attrs:{color:e.img}}),s("p",{staticClass:"c-member-name"},[t._v(t._s(e.name))])],1)})],2)},o=[],r=(s("7514"),s("7f7f"),s("df3a")),i={name:"Members",props:{inGame:Boolean},components:{Avatar:r["a"]},computed:{members:function(){return this.$store.getters.getMembers}},mounted:function(){var t=this,e=this;this.$store.getters.getConnection.on("NewMember",function(e){t.$store.getters.getHost&&(t.$store.dispatch("addMember",e),t.$store.getters.getConnection.invoke("UpdateMembers",t.$store.getters.getRoomkey,t.members))}),this.$store.getters.getConnection.on("UpdateMembers",function(e){t.$store.dispatch("setMembers",e)}),this.$root.$on("NewDraft",function(){if(this.$store.getters.getDraftPossible&&(console.log("trying to draft"),console.log("am host?",this.$store.getters.getHost),this.$store.dispatch("setDraftPossible",!1),this.$store.getters.getHost)){console.log("drafted");var t=e.members[Math.floor(Math.random()*e.members.length)];this.$store.dispatch("setWord",this.$cookies.get("token"),this.$cookies.get("locale")).then(function(s){e.$store.getters.getConnection.invoke("Drafted",e.$store.getters.getRoomkey,t.name,s)})}}),this.$store.getters.getConnection.on("Guessed",function(e,s){var n=t.members.find(function(t){return t.name==e});n.score+=s})},destroyed:function(){this.$store.getters.getConnection.off("NewMember"),this.$store.getters.getConnection.off("UpdateMembers"),this.$root.$off("NewDraft")}},a=i,c=(s("0cb1"),s("2877")),u=Object(c["a"])(a,n,o,!1,null,"059acf82",null);u.options.__file="Members.vue";e["a"]=u.exports},cd1c:function(t,e,s){var n=s("e853");t.exports=function(t,e){return new(n(t))(e)}},df3a:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.canShrink?s("div",{staticClass:"c-chat-member"}):s("div",{staticClass:"c-member-avatar"})},o=[],r={name:"Avatar",props:{color:String,canShrink:Boolean},mounted:function(){this.$el.style.backgroundColor=this.color}},i=r,a=(s("83c3"),s("2877")),c=Object(a["a"])(i,n,o,!1,null,"114d75bc",null);c.options.__file="Avatar.vue";e["a"]=c.exports},e5f7:function(t,e,s){},e853:function(t,e,s){var n=s("d3f4"),o=s("1169"),r=s("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},ea3b:function(t,e,s){"use strict";var n=s("268b"),o=s.n(n);o.a}}]);
//# sourceMappingURL=waiting.8c4568ad.js.map