(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["landing"],{"0aa6":function(s,a,t){},"33e5":function(s,a,t){"use strict";var e=t("0aa6"),i=t.n(e);i.a},"39f9":function(s,a,t){"use strict";var e=t("5f00"),i=t.n(e);i.a},"49a4":function(s,a,t){},"5f00":function(s,a,t){},"7bde":function(s,a,t){"use strict";var e=t("49a4"),i=t.n(e);i.a},bede:function(s,a,t){"use strict";t.r(a);var e=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"landing"},[s.loaded?t("LoginForm"):t("img",{staticClass:"c-loading-image",attrs:{src:"/loading.png"}})],1)},i=[],n=(t("cadf"),t("551c"),t("097d"),function(){var s=this,a=s.$createElement,t=s._self._c||a;return s.isLogin?t("div",{staticClass:"c-login o-smallpage"},[t("h1",{staticClass:"o-smallpage-header"},[s._v("Log In")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"o-input",attrs:{type:"email",placeholder:"Email"},domProps:{value:s.email},on:{input:function(a){a.target.composing||(s.email=a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"o-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:s.password},on:{input:function(a){a.target.composing||(s.password=a.target.value)}}}),t("button",{staticClass:"o-fancybutton",on:{click:s.login}},[s._v("Log In")]),t("a",{staticClass:"c-login-link",on:{click:s.switchLogin}},[s._v(s._s(s.$t("notyet")))])]):t("div",{staticClass:"c-login o-smallpage"},[t("h1",{staticClass:"o-smallpage-header"},[s._v(s._s(s.$t("register")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.displayname,expression:"displayname"}],ref:"displayname",staticClass:"o-input",attrs:{type:"text",placeholder:"Display Name"},domProps:{value:s.displayname},on:{focusout:s.validate,input:function(a){a.target.composing||(s.displayname=a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],ref:"email",staticClass:"o-input",attrs:{type:"email",placeholder:"Email"},domProps:{value:s.email},on:{focusout:s.validate,input:function(a){a.target.composing||(s.email=a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],ref:"password",staticClass:"o-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:s.password},on:{focusout:s.validate,input:function(a){a.target.composing||(s.password=a.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password2,expression:"password2"}],ref:"password2",staticClass:"o-input",attrs:{type:"password",placeholder:"Confirm password"},domProps:{value:s.password2},on:{focusout:s.validate,input:function(a){a.target.composing||(s.password2=a.target.value)}}}),t("span",{staticClass:"c-login-tac",on:{click:s.check}},[t("FancyCheckbox"),t("p",{staticClass:"c-login-tac-text"},[s._v(s._s(s.$t("terms")))])],1),t("button",{staticClass:"o-fancybutton",on:{click:s.register}},[s._v(s._s(s.$t("register")))]),t("a",{staticClass:"c-login-link",on:{click:s.switchLogin}},[s._v(s._s(s.$t("already")))])])}),o=[],r=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"o-fancycheckbox"},[t("input",{staticStyle:{display:"none"},attrs:{type:"checkbox",id:"cbx"}}),t("label",{staticClass:"check",attrs:{for:"cbx"}},[t("svg",{attrs:{width:"18px",height:"18px",viewBox:"0 0 18 18"}},[t("path",{attrs:{d:"M1,9 L1,3.5 C1,2 2,1 3.5,1 L14.5,1 C16,1 17,2 17,3.5 L17,14.5 C17,16 16,17 14.5,17 L3.5,17 C2,17 1,16 1,14.5 L1,9 Z"}}),t("polyline",{attrs:{points:"1 9 7 14 15 4"}})])])])},l=[],c={name:"FancyCheckbox"},d=c,p=(t("39f9"),t("2877")),u=Object(p["a"])(d,r,l,!1,null,"6fb1ea3f",null);u.options.__file="FancyCheckbox.vue";var m=u.exports,h={name:"AppHeader",components:{FancyCheckbox:m},data:function(){return{displayname:"",email:"",password:"",password2:"",isLogin:!1,isValid:!1,isChecked:!1}},methods:{switchLogin:function(){this.isLogin=!this.isLogin},register:function(){var s=this;if(this.isValid&&this.isChecked){var a={username:this.displayname,email:this.email,password:this.password},t="https://drawitapi.azurewebsites.net/api/auth/register";fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(){return s.isLogin=!0}).catch(function(s){return console.error("Error:",console.log(s))})}},login:function(){var s=this,a={username:this.displayname,email:this.email,password:this.password},t="https://drawitapi.azurewebsites.net/api/auth/login";fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(s){return s.json()}).then(function(a){s.$cookies.set("token",a.token),s.$cookies.set("username",a.username),s.$store.dispatch("setMyName",a.username),s.$router.push({path:"home"})}).catch(function(s){return console.error("Error:",console.log(s))})},validate:function(){var s=0;this.displayname.length<8||this.displayname.length>20?this.$refs.displayname.classList.add("o-input--invalid"):(this.$refs.displayname.classList.remove("o-input--invalid"),s+=1),""!=this.email&&this.validateEmail(this.email)?(this.$refs.email.classList.remove("o-input--invalid"),s+=1):this.$refs.email.classList.add("o-input--invalid"),this.password.length<8||this.password.length>20?this.$refs.password.classList.add("o-input--invalid"):(this.$refs.password.classList.remove("o-input--invalid"),s+=1),this.password===this.password2?(this.$refs.password2.classList.remove("o-input--invalid"),s+=1):this.$refs.password2.classList.add("o-input--invalid"),this.isValid=4==s},check:function(s){s.target==document.querySelector("#cbx")&&(this.isChecked=!this.isChecked)},validateEmail:function(s){var a=/\S+@\S+\.\S+/;return a.test(s)}}},v=h,f=(t("7bde"),Object(p["a"])(v,n,o,!1,null,"1f20905e",null));f.options.__file="LoginForm.vue";var g=f.exports,w={name:"Landing",components:{LoginForm:g},data:function(){return{loaded:!0}}},y=w,C=(t("33e5"),Object(p["a"])(y,e,i,!1,null,"03378aa4",null));C.options.__file="Landing.vue";a["default"]=C.exports}}]);
//# sourceMappingURL=landing.cedf27f8.js.map