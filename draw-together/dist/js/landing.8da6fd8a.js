(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["landing"],{"0aa6":function(s,t,a){},"33e5":function(s,t,a){"use strict";var e=a("0aa6"),i=a.n(e);i.a},"39f9":function(s,t,a){"use strict";var e=a("5f00"),i=a.n(e);i.a},"5f00":function(s,t,a){},"7ec6":function(s,t,a){},bede:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"landing"},[s.loaded?a("LoginForm"):a("img",{staticClass:"c-loading-image",attrs:{src:"/loading.png"}})],1)},i=[],o=function(){var s=this,t=s.$createElement,a=s._self._c||t;return s.isLogin?a("div",{staticClass:"c-login o-smallpage"},[a("h1",{staticClass:"o-smallpage-header"},[s._v("Log In")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"o-input",attrs:{type:"email",placeholder:"Email"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"o-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}}),a("button",{staticClass:"o-fancybutton",on:{click:s.login}},[s._v("Log In")]),a("a",{staticClass:"c-login-link",on:{click:s.switchLogin}},[s._v(s._s(s.$t("notyet")))])]):a("div",{staticClass:"c-login o-smallpage"},[a("h1",{staticClass:"o-smallpage-header"},[s._v(s._s(s.$t("register")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.displayname,expression:"displayname"}],ref:"displayname",staticClass:"o-input",attrs:{type:"text",placeholder:"Display Name"},domProps:{value:s.displayname},on:{focusout:s.validate,input:function(t){t.target.composing||(s.displayname=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],ref:"email",staticClass:"o-input",attrs:{type:"email",placeholder:"Email"},domProps:{value:s.email},on:{focusout:s.validate,input:function(t){t.target.composing||(s.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],ref:"password",staticClass:"o-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:s.password},on:{focusout:s.validate,input:function(t){t.target.composing||(s.password=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:s.password2,expression:"password2"}],ref:"password2",staticClass:"o-input",attrs:{type:"password",placeholder:"Confirm password"},domProps:{value:s.password2},on:{focusout:s.validate,input:function(t){t.target.composing||(s.password2=t.target.value)}}}),a("span",{staticClass:"c-login-tac",on:{click:s.check}},[a("FancyCheckbox"),a("p",{staticClass:"c-login-tac-text"},[s._v(s._s(s.$t("terms")))])],1),a("button",{staticClass:"o-fancybutton",on:{click:s.register}},[s._v(s._s(s.$t("register")))]),a("a",{staticClass:"c-login-link",on:{click:s.switchLogin}},[s._v(s._s(s.$t("already")))])])},n=[],l=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"o-fancycheckbox"},[a("input",{staticStyle:{display:"none"},attrs:{type:"checkbox",id:"cbx"}}),a("label",{staticClass:"check",attrs:{for:"cbx"}},[a("svg",{attrs:{width:"18px",height:"18px",viewBox:"0 0 18 18"}},[a("path",{attrs:{d:"M1,9 L1,3.5 C1,2 2,1 3.5,1 L14.5,1 C16,1 17,2 17,3.5 L17,14.5 C17,16 16,17 14.5,17 L3.5,17 C2,17 1,16 1,14.5 L1,9 Z"}}),a("polyline",{attrs:{points:"1 9 7 14 15 4"}})])])])},r=[],c={name:"FancyCheckbox"},d=c,p=(a("39f9"),a("2877")),u=Object(p["a"])(d,l,r,!1,null,"6fb1ea3f",null);u.options.__file="FancyCheckbox.vue";var m=u.exports,h={name:"AppHeader",components:{FancyCheckbox:m},data:function(){return{displayname:"",email:"",password:"",password2:"",isLogin:!1,isValid:!1,isChecked:!1}},methods:{switchLogin:function(){this.isLogin=!this.isLogin},register:function(){var s=this;if(this.isValid&&this.isChecked){var t={username:this.displayname,email:this.email,password:this.password},a="https://localhost:44321/api/auth/register";fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(){return s.isLogin=!0}).catch(function(s){return console.error("Error:",console.log(s))})}},login:function(){var s=this,t={username:this.displayname,email:this.email,password:this.password},a="https://localhost:44321/api/auth/login";fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(s){return s.json()}).then(function(t){s.$cookies.set("token",t.token),s.$cookies.set("username",t.username),s.$store.dispatch("setMyName",t.username),s.$router.push({path:"home"})}).catch(function(s){return console.error("Error:",console.log(s))})},validate:function(){var s=0;this.displayname.length<8||this.displayname.length>20?this.$refs.displayname.classList.add("o-input--invalid"):(this.$refs.displayname.classList.remove("o-input--invalid"),s+=1),""!=this.email&&this.validateEmail(this.email)?(this.$refs.email.classList.remove("o-input--invalid"),s+=1):this.$refs.email.classList.add("o-input--invalid"),this.password.length<8||this.password.length>20?this.$refs.password.classList.add("o-input--invalid"):(this.$refs.password.classList.remove("o-input--invalid"),s+=1),this.password===this.password2?(this.$refs.password2.classList.remove("o-input--invalid"),s+=1):this.$refs.password2.classList.add("o-input--invalid"),this.isValid=4==s},check:function(s){s.target==document.querySelector("#cbx")&&(this.isChecked=!this.isChecked)},validateEmail:function(s){var t=/\S+@\S+\.\S+/;return t.test(s)}}},v=h,f=(a("f593"),Object(p["a"])(v,o,n,!1,null,"17d1476e",null));f.options.__file="LoginForm.vue";var g=f.exports,w={name:"Landing",components:{LoginForm:g},data:function(){return{loaded:!0}}},y=w,C=(a("33e5"),Object(p["a"])(y,e,i,!1,null,"03378aa4",null));C.options.__file="Landing.vue";t["default"]=C.exports},f593:function(s,t,a){"use strict";var e=a("7ec6"),i=a.n(e);i.a}}]);
//# sourceMappingURL=landing.8da6fd8a.js.map